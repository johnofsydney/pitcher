<%= form_with(model: webhook, class: "needs-validation", novalidate: true) do |form| %>
  <% if webhook.errors.any? %>
    <div class="alert alert-danger">
      <h2><%= pluralize(webhook.errors.count, "error") %> prohibited this webhook from being saved:</h2>

      <ul>
        <% webhook.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <p>To subscribe a customer to a particular document, select the customer and the document, and a token. The token will be provided by the customer, and is will allow the customer application to uniquely identify match the data from the document in this application to the one in their application.</p>

  <div class="form-group row">
    <%= form.label :customer_id, class: "col-sm-2 col-form-label" %>
    <div class="col-sm-10">
      <%= form.select :customer_id, options_for_select(Customer.pluck(:name, :id), include_blank: true), class: "form-control" %>
    </div>
  </div>

  <div class="form-group row">
    <%= form.label :document_id, class: "col-sm-2 col-form-label" %>
    <div class="col-sm-10">
      <%= form.select :document_id, options_for_select(Document.all.map { |d| [d.description, d.id] }, include_blank: true), class: "form-control" %>
    </div>
  </div>

  <div class="form-group row">
    <%= form.label :token, class: "col-sm-2 col-form-label" %>
    <div class="col-sm-10">
      <%= form.text_field :token, class: "form-control" %>
    </div>
  </div>

  <div class="form-group row">
    <div class="col-sm-10 offset-sm-2">
      <%= form.submit "Save", class: "btn btn-primary" %>
    </div>
  </div>
<% end %>